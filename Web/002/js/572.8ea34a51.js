"use strict";(self["webpackChunkfmeituan"]=self["webpackChunkfmeituan"]||[]).push([[572],{5965:function(t,e,a){function i(t){return{all:t=t||new Map,on:function(e,a){var i=t.get(e);i?i.push(a):t.set(e,[a])},off:function(e,a){var i=t.get(e);i&&(a?i.splice(i.indexOf(a)>>>0,1):t.set(e,[]))},emit:function(e,a){var i=t.get(e);i&&i.slice().map((function(t){t(a)})),(i=t.get("*"))&&i.slice().map((function(t){t(e,a)}))}}}a.d(e,{A:function(){return c}});const n=i();var c=n},407:function(t,e,a){a.d(e,{A:function(){return v}});var i=a(2360),n=a(9177);const c={class:"content_item"},d={class:"left"},o=["src"],s={class:"text"},l={class:"title"},u={class:"price"};function r(t,e,a,r,m,f){const p=(0,i.g2)("van-checkbox"),v=(0,i.g2)("van-icon"),k=(0,i.g2)("van-stepper");return(0,i.uX)(),(0,i.CE)("div",c,[(0,i.Lk)("div",d,[a.showCheckbox?((0,i.uX)(),(0,i.Wv)(p,{key:0,name:a.item.id,"checked-color":"#ffc400"},null,8,["name"])):(0,i.Q3)("",!0),(0,i.Lk)("img",{src:a.item.pic,alt:""},null,8,o),(0,i.Lk)("div",s,[(0,i.Lk)("div",l,(0,n.v_)(a.item.title),1),a.item.add&&a.showAdd?((0,i.uX)(),(0,i.Wv)(v,{key:0,name:"add-o",onClick:e[0]||(e[0]=t=>a.addClick(a.item.id))})):((0,i.uX)(),(0,i.Wv)(k,{key:1,modelValue:a.item.num,"onUpdate:modelValue":e[1]||(e[1]=t=>a.item.num=t),min:0,name:a.item.id,onChange:a.onChange},null,8,["modelValue","name","onChange"]))])]),(0,i.Lk)("div",u,"￥"+(0,n.v_)(a.item.price),1)])}var m={props:["item","onChange","showAdd","addClick","showCheckbox"]},f=a(9874);const p=(0,f.A)(m,[["render",r],["__scopeId","data-v-6888d75c"]]);var v=p},4671:function(t,e,a){a.d(e,{A:function(){return p}});var i=a(2360),n=a(9177);const c={class:"header"};function d(t,e,a,d,o,s){const l=(0,i.g2)("van-icon");return(0,i.uX)(),(0,i.CE)("div",c,[(0,i.bF)(l,{name:"arrow-left",class:"icon",onClick:d.toBack},null,8,["onClick"]),(0,i.Lk)("div",null,(0,n.v_)(a.title),1),a.edit?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"edit",onClick:e[0]||(e[0]=(...t)=>d.editClick&&d.editClick(...t))},(0,n.v_)(d.store.state.edit?"编辑":"完成"),1)):(0,i.Q3)("",!0)])}var o=a(5965),s=a(1890),l=a(9294),u=a(4510),r={props:["title","edit"],setup(){const t=(0,l.Pj)(),e=(0,u.rd)(),a=()=>{e.back()},i=()=>{t.state.cartList.length?(t.commit("EDIT"),o.A.emit("edit")):(0,s.P0)({message:"购物车中没有商品",icon:"like-o"})};return{editClick:i,toBack:a,store:t}}},m=a(9874);const f=(0,m.A)(r,[["render",d],["__scopeId","data-v-75140fff"]]);var p=f},572:function(t,e,a){a.r(e),a.d(e,{default:function(){return I}});var i=a(2360),n=a(9177);const c=t=>((0,i.Qi)("data-v-15a101c5"),t=t(),(0,i.jt)(),t),d={class:"storeDetails"},o={class:"content"},s=c((()=>(0,i.Lk)("div",{class:"img"},null,-1))),l={class:"foodClassify"},u={class:"name"},r=["src"],m={class:"classify"},f={key:1},p={key:2};function v(t,e,a,c,v,k){const b=(0,i.g2)("Header"),h=(0,i.g2)("FoodList"),g=(0,i.g2)("van-tab"),C=(0,i.g2)("van-tabs"),F=(0,i.g2)("van-action-bar-icon"),_=(0,i.g2)("van-action-bar-button"),A=(0,i.g2)("van-action-bar");return(0,i.uX)(),(0,i.CE)("div",d,[(0,i.bF)(b,{title:"店铺"}),(0,i.Lk)("div",o,[s,(0,i.Lk)("div",l,[(0,i.Lk)("div",u,[(0,i.eW)((0,n.v_)(t.title)+" ",1),(0,i.Lk)("img",{src:t.img,class:"store_img",alt:""},null,8,r)]),(0,i.Lk)("div",m,[(0,i.bF)(C,{color:"#ffc400"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.storeData,((t,e)=>((0,i.uX)(),(0,i.Wv)(g,{key:e,title:t.name},{default:(0,i.k6)((()=>["点菜"==t.name?((0,i.uX)(),(0,i.Wv)(h,{key:0,index:e,foodData:t.data},null,8,["index","foodData"])):"评价"==t.name?((0,i.uX)(),(0,i.CE)("div",f,"评价")):"商家"==t.name?((0,i.uX)(),(0,i.CE)("div",p,"商家")):(0,i.Q3)("",!0)])),_:2},1032,["title"])))),128))])),_:1})])])]),(0,i.bF)(A,null,{default:(0,i.k6)((()=>[(0,i.bF)(F,{icon:"chat-o",text:"客服",onClick:c.service},null,8,["onClick"]),(0,i.bF)(F,{icon:"cart-o",text:"购物车",badge:c.store.state.cartList.length,onClick:c.toCart},null,8,["badge","onClick"]),(0,i.bF)(_,{type:"warning",text:"加入购物车",onClick:c.handleAddCart},null,8,["onClick"]),(0,i.bF)(_,{type:"danger",text:"立即购买",onClick:c.clickBuy},null,8,["onClick"])])),_:1})])}a(381);var k=a(4671);const b={key:0,class:"food_list"};function h(t,e,a,n,c,d){const o=(0,i.g2)("FoodAdd"),s=(0,i.g2)("van-tree-select");return 0==a.index?((0,i.uX)(),(0,i.CE)("div",b,[(0,i.bF)(s,{"main-active-index":t.active,height:"88vw",items:t.items,onClickNav:n.navClick},{content:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.subItem,((t,e)=>((0,i.uX)(),(0,i.CE)("div",{class:"item_bg",key:e},[(0,i.bF)(o,{item:t,showAdd:!0,addClick:n.addClick,onChange:n.onChange},null,8,["item","addClick","onChange"])])))),128))])),_:1},8,["main-active-index","items","onClickNav"])])):(0,i.Q3)("",!0)}var g=a(6408),C=a(407),F={props:["index","foodData"],components:{FoodAdd:C.A},setup(t){let e=(0,g.Kh)({items:[],active:0,subItem:[]});const a=()=>{let a=[];t.foodData.items.map(((t,i)=>{a.push({text:t.text}),e.active==i&&(e.subItem=t.children)})),e.items=a};a();const i=t=>{e.active=t,a()},n=t=>{e.subItem.forEach((e=>{e.id==t&&(e.add=!1,e.num+=1)}))},c=(t,a)=>{0!=t?e.subItem.forEach((e=>{e.id==a.name&&(e.num=t)})):e.subItem.forEach((t=>{t.id==a.name&&(t.add=!0)}))};return{...(0,g.QW)(e),navClick:i,addClick:n,onChange:c}}},_=a(9874);const A=(0,_.A)(F,[["render",h],["__scopeId","data-v-1812df8a"]]);var E=A,x=a(1890),y=a(4510),w=a(9294),L={components:{Header:k.A,FoodList:E},setup(){let t=(0,g.Kh)({title:"鱼拿酸菜鱼",img:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",storeData:[{name:"点菜",data:{content:"点菜",items:[{text:"热销套餐",children:[{pic:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",title:"招牌酸菜鱼",num:0,price:25,id:0,add:!0},{pic:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",title:"藤椒酸菜鱼",num:0,price:25,id:1,add:!0}]},{text:"澳洲肥牛",children:[{pic:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fbkimg.cdn.bcebos.com%2Fpic%2F8694a4c27d1ed21b0ef4f3137f24cac451da80cb91b8&refer=http%3A%2F%2Fbkimg.cdn.bcebos.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1645407747&t=ea2c9f772ba0df3a2d1b00b962875460",title:"酸汤肥牛",num:0,price:25,id:3,add:!0},{pic:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fbkimg.cdn.bcebos.com%2Fpic%2F8694a4c27d1ed21b0ef4f3137f24cac451da80cb91b8&refer=http%3A%2F%2Fbkimg.cdn.bcebos.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1645407747&t=ea2c9f772ba0df3a2d1b00b962875460",title:"香辣肥牛",num:0,price:25,id:4,add:!0}]},{text:"超级折扣",children:[{pic:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",title:"无骨酸菜鱼+肥牛双拼",num:0,price:25,id:5,add:!0},{pic:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",title:"香辣水煮鱼+肥牛双拼",num:0,price:25,id:6,add:!0}]}]}},{name:"评价",data:{content:"评价"}},{name:"商家",data:{content:"商家"}}]}),e=(0,y.rd)(),a=(0,w.Pj)();const i=()=>{(0,x.P0)("暂无。。。。。")},n=()=>{e.push("/cart")},c=e=>{let i=[];t.storeData[0].data.items.forEach((t=>{t.children.forEach((t=>{t.num>0&&i.push(t)}))})),0!=i.length?(a.commit("addCart",i),"buy"==e&&n()):(0,x.P0)("请选择商品。。。")},d=()=>{c("buy")};return{...(0,g.QW)(t),service:i,toCart:n,handleAddCart:c,clickBuy:d,store:a}}};const X=(0,_.A)(L,[["render",v],["__scopeId","data-v-15a101c5"]]);var I=X}}]);
//# sourceMappingURL=572.8ea34a51.js.map